name: Melon Global Ticket Watcher

on:
  schedule:
    - cron: '*/5 * * * *'  # æ¯ 5 åˆ†é˜ç›£æ§ä¸€æ¬¡
  workflow_dispatch:        # ä¹Ÿå¯ä»¥æ‰‹å‹•è§¸ç™¼

jobs:
  check_ticket:
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2

      - name: Check Tickets
        uses: ./  # æŒ‡å‘ä½ æœ¬åœ° index.js çš„ Action
        with:
          product-id: '211217'       # æ”¹æˆä½ æ¼”å‡ºé  prodId
          schedule-id: '100001'      # æ”¹æˆä½ å°æ‡‰æ™‚é–“çš„å ´æ¬¡ ID
          seat-id: '218,217,216,219,A,M,R,E,T,D,N,C'
          slack-incoming-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          message: 'ğŸ« æœ‰ç¥¨å•¦ï¼å¿«ä¾†æ¶ç¥¨ï¼šhttps://tkglobal.melon.com/performance/index.htm?prodId=211217'

